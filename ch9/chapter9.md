# FAQ

### K-Lab使用常见问题
#### 什么是工作区
个人工作区是持久化的个人存储空间，访问路径为`/home/kesci/work`。你在关闭K-Lab时触发工作区文件的自动存储，重新打开K-Lab时恢复上次保存的工作区文件。每个人的工作区的容量为500M，如果超过容量上限，工作区里的文件都会被清空。所以在使用时请注意查看K-Lab监控区的工作区用量。

#### 什么是大工作区
大工作区是K-Lab新上线的容量为2G的持久化大工作区，目前在使用AWS计算资源时可以通过`/home/kesci/large-work/`路径访问。大工作区的存储是实时的，在同一个云计算平台上，即使使用不同的计算资源类型，同一个用户的大工作区目录都可共享，保存文件不会冲突。

#### 什么是磁盘空间
磁盘空间是临时的存储空间，磁盘空间大小根据使用的计算资源不同会有所变化。一旦退出K-Lab，存储在磁盘内的文件将不会被保存。需要特别注意的是，如果使用超出了磁盘用量，可能会触发防止恶意行为的惩罚机制，用户会被强制退出K-Lab，并且无法申请到计算资源。若发生该情况请及时通过页面右下角意见反馈按钮联系管理员。

#### 如何生成项目版本
每个项目要至少生成一个版本后才能公开发布。进入K-Lab运行时，点击“生成版本”按钮，即可基于当前Notebook的内容生成新的项目版本。

 ![image description](/image/new-version.png)

#### 资源为什么连接不上？
正常情况下连接资源可能需要等待1分钟左右，如果资源一直连接不上，请及时通过页面右下角意见反馈按钮联系管理员。

#### K-Lab的使用时长
K-Lab有单次使用时长的限制，如果时限到了Kernel就会断开，刷新重连即可。具体剩余时间可以在底部的监控栏查看。
如果在使用K-Lab过程中想要多一些时间，可以在顶部菜单栏选择“Kernel” → 选择“延长可用时长”。在对话框输入验证码即可再次续满2小时。需要注意的是，只有在时间**剩余四分之一**的时候，才能进行延长操作。

#### 如何在K-Lab里解压zip文件？
在K-Lab挂载zip格式的数据集时，K-Lab会自动解压这个zip文件一级目录下的内容，该文件中包含的其余zip文件，则需要通过Python代码完成解压。步骤如下：
假设挂载的数据集目录为zipfolder，文件中包含了名为zip2file的zip文件，
1. 运行以下命令解压zip2file文件：
`path1 = '/home/kesci/input/zipfolder/zip2file.zip'
import zipfile
z = zipfile.ZipFile(path1, 'r')
z.extractall('/home/kesci/input/zipfolder/')
z.close()`

2. 查看解压后的文件内容：
`!ls /home/kesci/input/zipfolder`

#### Notebook可以导出吗？
可以。在K-Lab运行时内，依次点击工具栏中的“文件” → “导出为ipynb”，就可以把导出ipython Notebook文件。但项目挂载的数据集和项目相关的工具包不能同时导出。

#### K-Lab为什么强制重启了？
K-Lab重启可能有以下原因：
* 网络不稳定，Kernel的链接断开。在稳定的网络下重新进入K-Lab即可。
* 内存溢出导致Kernel崩溃。这种情况下点击重启K-Lab即可，不过内存会被清空。所以在运行过程中请尽量保持内存占用不超过80%

#### 为什么总显示等待Kernel响应？
如果一直显示等待Kernel响应，Kernel可能正在运行。此时可以点击顶部工具栏的“中断Kernel”按钮，中断Kernel。如果仍然没有响应，请联系管理员。

 ![image description](/image/pause-kernel.png)

#### 资源为什么连接不上？
正常情况下打开K-Lab后连接资源可能需要等待1-2分钟，如果资源一直连接不上，请及时联系管理员。

#### Kernel重连失败怎么办？
出现该情况可能有以下原因：
* 网络断开。此时请更换一个稳定的网络环境。
* 使用了网络代理服务。这种情况请关闭网络代理，刷新K-Lab页面。
其他情况请联系管理员。

### K-Lab工具包常见问题
#### 想要用的工具包没有，怎么自己安装？
* 在Python3 环境下，使用以下命令：
`!pip install package_name==version #安装工具包
!pip install package_name --upgrade #更新工具包`

* 如果要安装系统软件包，请使用以下命令：
`!sudo apt-get update
!sudo apt-get install cowsay
!/usr/games/cowsay -f ghostbusters Who you Gonna Call`

* 更多指令参见帮助文档：[Kernel内置工具包](./kernel_pkg.md)


### 项目常见问题
#### 为什么不能公开项目？
项目需要生成版本后才能公开发布。如果项目详情页没有版本号则说明项目还未生成版本。如果要生成版本，进入K-Lab运行时，点击“生成项目版本“按钮，回到项目详情页，刷新页面即可。

![image description](/image/new-version.png)


#### 为什么我的项目不能分享？
项目需要至少发布一个版本才能分享。进入K-Lab运行时，点击“生成项目版本“按钮，回到项目详情页，刷新页面即可。

![image description](/image/new-version.png)


#### 项目生成的Notebook可以导出吗？
可以。在K-Lab运行时内，依次点击工具栏中的“文件” → “导出为ipynb”，就可以把项目内容导出为ipython Notebook文件。但项目挂载的数据集不能同时导出。

#### 为什么Fork了一个项目却访问不了数据集？
该项目可能挂载了私有数据集。如果不存在私有数据集的情况，请联系管理员。

#### 项目运行过程中生成的结果文件怎么下载？
把文件存储到work目录后，在文件树内找到相应的文件，点击右键 → 选择“下载文件”即可。


### 数据集常见问题
#### 数据集怎么下载？
数据集暂不开放下载哦。

#### 挂载目录是什么？
数据集被存放在磁盘上的文件夹中，这个文件夹就是数据集的挂载目录。每次创建数据集时，你需要设置文件夹文件夹的名称。挂载目录设置后不可修改。

#### 创建项目之后能否修改项目挂载的数据集？
可以，在侧边栏点击”数据集“ → 点击底部”修改挂载数据集“，即可添加、删除挂载在项目中的数据集。

#### 数据集上传的大小限制？
创建数据集时，每个数据集内可以上传20个文件，每个文件不超过500M。如果文件过大，建议适当拆分或压缩文件。


### 比赛常见FAQ
#### 如何进行实名认证？
在网站右上角，点击个人用户名 → 选择“账号设置” → 选择“用户认证” → 实名认证

#### 实名认证要等多久？
实名认证的时间为1-2天，如果超过2天没有答复，可以联系管理员。

#### 如何提交参赛文件？
参赛文件是以团队名义进行提交的，且只有队长才能进行提交，所以即使一人参赛也需要创建一个团队。确保已经创建了团队后，在赛事详情页面找到”提交“Tab。

![image description](/image/submit-work.png)

如果需要提交工具来提交，可以在此页面找到提交token，在需要提交的Notebook中输入以下指令即可。
`!./kesci_submit -token XXXXXXXXX -file /home/kesci/work/my_submission.txt`
如果提交作品文件，在该页面按要求直接上传即可。

#### 如何提交比赛作品？
比赛结束后，我们鼓励大家在社区开源自己的比赛作品促进交流。在已结束的比赛页面点击”发布作品“ 进入发布作品帖页面。如果是用K-Lab完成的比赛项目选择“基于K-Lab项目的作品”，其他类型选择“普通作品”，然后完善作品简介、头图即可。

![image description](/image/submit-作品.png)

#### 团队为什么锁定了？
团队锁定有两种情况：
1、团队有提交行为的当天会被锁定，无法添加新成员。如需添加删除成员，一天之后再操作即可。
2、比赛进行到某一阶段，为了防止作弊所有团队都会被锁定。

#### 每天提交的次数限制？
不同比赛每天的提交次数限制有所不同，如果提交后返回了评审结果，就算一次有效提交。所以提交之前请确保文件符合提交的格式哦。
